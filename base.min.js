(function(t,n){"function"==typeof define&&define.amd?define(n):t.Base=n()})(this,function(){var t=function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)},n=function(t){return t&&"object"==typeof t},r=function(t){return t&&"function"==typeof t},e=function(r,o){if(o===undefined)return r;if(n(o)){r=r||(t(o)?[]:{});for(var u in o)r[u]&&o[u]===r[u]||(r[u]=e(r[u],o[u]))}else r=o instanceof Date?new Date(o):o;return r},o=function(o,u,i){var s=i||{};s={functions:s.functions===undefined?!0:s.functions,properties:s.properties===undefined?!0:s.properties};for(var p in u)o[p]&&u.hasOwnProperty(p)?r(u[p])?"constructor"!=p&&o[p]!==u[p]&&(o[p]=function(t,n,r){var e=r,o=function(){t.apply(this,arguments)},u=function(){r=!1},i=function(n){t.apply(this,n)},s=function(){var t,s,p=this._super,f=this._superStop,a=this._superApply;return r=e,this._super=o,this._superApply=i,r&&(this._superStop=u),t=n.apply(this,arguments),r&&(s=o.apply(this,arguments),t===undefined&&(t=s)),this._super=p,this._superApply=a,this._superStop=f,t};return s}(o[p],u[p],s.functions===!0||s.functions[p])):o[p]=(n(u[p])||t(u[p]))&&(s.properties||s.properties[p])?e(e(null,o[p]),u[p]):u[p]:o[p]=u[p];return o},u=function(t){var n;return"function"==typeof t?n=t:t.hasOwnProperty("constructor")?(n=t.constructor,n.prototype=t):(n=function(){},n.prototype=t),n},i=function(){var e,i,s,p,a,c,y,h,g;if(!(2>arguments.length)){a=[],(n(arguments[0])||r(arguments[0]))&&a.push(arguments[0]),t(arguments[1])?(a=a.concat(arguments[1]),a.push(arguments[2]),4==arguments.length&&n(arguments[3])&&(g=arguments[3])):(a.push(arguments[1]),3==arguments.length&&n(arguments[2])&&(g=arguments[2])),c=a.length,g=g||{},s={},h=Array(c),a=[a[c-1],a[0]].concat(a.slice(1,c-1));for(var m=c-1;m>=0;m--)norm=u(a[m]),h[m]=norm.prototype,1==m&&(e=norm),("function"==typeof a[m]||a[m].hasOwnProperty("constructor"))&&(s=o(s,{f:norm},{functions:!0}));i=function(){s.f.apply(this,arguments)},p=function(){},p.prototype=e.prototype,i.prototype=new p;for(var l in e)e.hasOwnProperty(l)&&!g[l]&&(g[l]=e[l]);i=f(i,g),y={};for(var d in h[0])"function"==typeof h[0][d]&&(y[d]=!e.prototype.hasOwnProperty(d));return i.mix(h.slice(2,c),{functions:!0}),i.mix([h[0]],{functions:y}),i}},s={extend:function(){return i.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},mix:function(t,n){for(var r=t.length,e=0;r>e;e++)this.prototype=o(this.prototype,t[e],n)}},p=0,f=function(t,n){var r=u(t),o=n||{},i=r;return r=function(){var t=function(t){this._guid||(this._guid=++p),i.apply(this,t)};return t.prototype=i.prototype,function(){return this instanceof t||this._guid?(t.call(this,arguments),undefined):new t(arguments)}}(),r.prototype=i.prototype,r=e(r,e(s,o))};return f({})});